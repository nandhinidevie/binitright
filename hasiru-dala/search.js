const wasteDatabase = {
      "banana peel": "Wet Waste",
      "orange skin": "Wet Waste",
      "apple skin": "Wet Waste",
      "watermelon": "Wet Waste",
      "veg peels": "Wet Waste",
      "fruit skins": "Wet Waste",
      "food leftovers": "Wet Waste",
      "spoiled food": "Wet Waste",
      "spoiled curry": "Wet Waste",
      "cooked rice": "Wet Waste",
      "sambar waste": "Wet Waste",
      "egg shells": "Wet Waste",
      "non-veg bones": "Wet Waste",
      "chicken bones": "Wet Waste",
      "fish bones": "Wet Waste",
      "spoiled fruits": "Wet Waste",
      "spoiled veggies": "Wet Waste",
      "oily tissue": "Wet Waste",
      "food tissue": "Wet Waste",
      "tea dust": "Wet Waste",
      "coffee powder waste": "Wet Waste",
      "banana leaf": "Wet Waste",
      "areca plate": "Wet Waste",
      "dry leaves": "Wet Waste",
      "garden sticks": "Wet Waste",
      "puja flowers": "Wet Waste",
      "pooja flowers": "Wet Waste",
      "temple flowers": "Wet Waste",
      "flower garlands": "Wet Waste",
      "garden weeds": "Wet Waste",
      "grass cuttings": "Wet Waste",

      "plastic cover": "Dry Waste",
      "water bottle": "Dry Waste",
      "bisleri bottle": "Dry Waste",
      "plastic dabba": "Dry Waste",
      "chips packet": "Dry Waste",
      "kurkure packet": "Dry Waste",
      "lays packet": "Dry Waste",
      "chocolate wrapper": "Dry Waste",
      "toffee wrapper": "Dry Waste",
      "disposable cup": "Dry Waste",
      "plastic cup": "Dry Waste",
      "nandini milk packet": "Dry Waste",
      "milk packet": "Dry Waste",
      "curd packet": "Dry Waste",
      "biryani box": "Dry Waste",
      "aluminium foil box": "Dry Waste",
      "beer can": "Dry Waste",
      "cold drink can": "Dry Waste",
      "coke can": "Dry Waste",
      "pepsi can": "Dry Waste",
      "fanta can": "Dry Waste",
      "glass bottle": "Dry Waste",
      "glass water bottle": "Dry Waste",
      "tetra pack": "Dry Waste",
      "newspaper": "Dry Waste",
      "magazine": "Dry Waste",
      "old books": "Dry Waste",
      "envelope": "Dry Waste",
      "amazon box": "Dry Waste",
      "carton box": "Dry Waste",
      "shoe box": "Dry Waste",
      "pizza box": "Dry Waste",
      "juice box": "Dry Waste",
      "frooti pack": "Dry Waste",
      "real juice pack": "Dry Waste",
      "buttermilk pack": "Dry Waste",
      "paper  boat pack": "Dry Waste",
      "paper cup": "Dry Waste",
      "paper plate": "Dry Waste",
      "thermocol": "Dry Waste",
      "rubber band": "Dry Waste",
      "old sponge": "Dry Waste",
      "old mop": "Dry Waste",
      "wooden piece": "Dry Waste",
      "coconut shell": "Dry Waste",

      "biryani box": "Dry Waste",
      "silver biryani box": "Dry Waste",
      "foil biryani box": "Dry Waste",
      "biryani cover": "Dry Waste",
      "chicken 65 box": "Dry Waste",
      "takeaway box": "Dry Waste",
      "takeaway container": "Dry Waste",
      "plastic food box": "Dry Waste",
      "disposable food box": "Dry Waste",
      "aluminium foil box": "Dry Waste",
      "butter chicken box": "Dry Waste",
      "pizza box": "Dry Waste",
      "burger wrapper": "Dry Waste",
      "sandwich wrapper": "Dry Waste",
      "shawarma foil": "Dry Waste",
      "licious cover": "Dry Waste",
      "licious box": "Dry Waste",
      "paper": "Dry Waste",
      "kraftpaper": "Dry Waste",
      "chart paper": "Dry Waste",

      "swiggy box": "Dry Waste",
      "swiggy plastic container": "Dry Waste",
      "swiggy paper bag": "Dry Waste",
      "zomato box": "Dry Waste",
      "zomato plastic cover": "Dry Waste",
      "zomato paper bag": "Dry Waste",
      "blinkit bag": "Dry Waste",
      "blinkit packet": "Dry Waste",
      "zepto bag": "Dry Waste",
      "zepto packet": "Dry Waste",
      "bigbasket bag": "Dry Waste",
      "bigbasket packet": "Dry Waste",
      "bbdaily packet": "Dry Waste",
      "instamart bag": "Dry Waste",

      "bingo packet": "Dry Waste",
      "hide and seek wrapper": "Dry Waste",
      "oreo wrapper": "Dry Waste",
      "parle g wrapper": "Dry Waste",
      "maggi packet": "Dry Waste",
      "noodles packet": "Dry Waste",
      "yippee noodles packet": "Dry Waste",
      "ready to eat packet": "Dry Waste",
      "ready to cook packet": "Dry Waste",
      "frozen peas packet": "Dry Waste",
      "ice cream cup": "Dry Waste",
      "amul ice cream box": "Dry Waste",

      "atta packet": "Dry Waste",
      "rice bag": "Dry Waste",
      "sugar bag": "Dry Waste",
      "dal packet": "Dry Waste",
      "oil packet": "Dry Waste",
      "sunflower oil packet": "Dry Waste",
      "fortune oil bottle": "Dry Waste",
      "aashirvaad atta packet": "Dry Waste",
      "plastic grocery cover": "Dry Waste",
      "vegetable plastic cover": "Dry Waste",
      "fruit plastic cover": "Dry Waste",
      "biscuit wrapper": "Dry Waste",

      "baby diaper": "Reject Waste",
      "used napkin": "Reject Waste",
      "finger nails": "Reject Waste",
      "hair": "Reject Waste",
      "makeup": "Reject Waste",
      "lipstick": "Reject Waste",
      "compact powder": "Reject Waste",
      "nail polish bottle": "Reject Waste",
      "broken ceramic cup": "Reject Waste",
      "broken ceramic plate": "Reject Waste",
      "diaper": "Reject Waste",
      "sanitary pad": "Reject Waste",
      "pad": "Reject Waste",
      "used mask": "Reject Waste",
      "mask": "Reject Waste",
      "bandage": "Reject Waste",
      "used gloves": "Reject Waste",
      "medical glove": "Reject Waste",
      "condom": "Reject Waste",
      "rusty nail": "Reject Waste",
      "iron nail": "Reject Waste",
      "used blade": "Reject Waste",
      "shaving razor": "Reject Waste",
      "gillette razor": "Reject Waste",
      "injection needle": "Reject Waste",
      "syringe": "Reject Waste",
      "injection bottle": "Reject Waste",
      "medicine strip": "Reject Waste",
      "tablet strip": "Reject Waste",
      "tablet": "Reject Waste",
      "capsule": "Reject Waste",
      "dust from broom": "Reject Waste",
      "dust": "Reject Waste",
      "stones": "Reject Waste",
      "construction waste": "Reject Waste",
      "brick": "Reject Waste",
      "broken brick": "Reject Waste",
      "cement dust": "Reject Waste",
      "cement powder": "Reject Waste",
      "paint tin": "Reject Waste",
      "paint waste": "Reject Waste",
      "drain mud": "Reject Waste",
      "broken pot": "Reject Waste",
      "broken flower pot": "Reject Waste",
      "broken glass": "Reject Waste",
      "glass pieces": "Reject Waste",
      "cotton buds": "Reject Waste",
      "q tips": "Reject Waste",
      "used cotton balls": "Reject Waste",

      "old phone": "E-Waste",
      "old electronics": "E-Waste",
      "old appliances": "E-Waste",
      "mobile phone": "E-Waste",
      "smartphone": "E-Waste",
      "landline phone": "E-Waste",
      "laptop": "E-Waste",
      "keyboard": "E-Waste",
      "mouse": "E-Waste",
      "monitor": "E-Waste",
      "cpu": "E-Waste",
      "printer": "E-Waste",
      "scanner": "E-Waste",
      "router": "E-Waste",
      "earphones": "E-Waste",
      "headphones": "E-Waste",
      "bluetooth speaker": "E-Waste",
      "charger": "E-Waste",
      "mobile charger": "E-Waste",
      "usb cable": "E-Waste",
      "data cable": "E-Waste",
      "power bank": "E-Waste",
      "smartwatch": "E-Waste",
      "aa battery": "E-Waste",
      "aaa battery": "E-Waste",
      "cell battery": "E-Waste",
      "mobile battery": "E-Waste",
      "laptop battery": "E-Waste",
      "mixer grinder": "E-Waste",
      "iron box": "E-Waste",
      "hair dryer": "E-Waste",
      "trimmer": "E-Waste",
      "shaver": "E-Waste",
      "fan": "E-Waste",
      "tv": "E-Waste",
      "washing machine": "E-Waste",
      "fridge": "E-Waste",
      "microwave oven": "E-Waste",
      "bulb": "E-Waste",
      "tube light": "E-Waste",
      "cfl bulb": "E-Waste",
      "led bulb": "E-Waste"
    };


    const itemTips = {
  // Tip: Rinse before bin
  "biryani box": "Rinse and dry before throwing in the bin.",
  "foil biryani box": "Rinse and dry before throwing in the bin.",
  "aluminium foil box": "Rinse and dry before throwing in the bin.",
  "butter chicken box": "Rinse and dry before throwing in the bin.",
  "pizza box": "Rinse and dry before throwing in the bin.",
  "beer can": "Rinse and dry before throwing in the bin.",
  "cold drink can": "Rinse and dry before throwing in the bin.",
  "coke can": "Rinse and dry before throwing in the bin.",
  "pepsi can": "Rinse and dry before throwing in the bin.",
  "fanta can": "Rinse and dry before throwing in the bin.",
  "glass bottle": "Rinse and dry before throwing in the bin.",
  "glass water bottle": "Rinse and dry before throwing in the bin.",
  "tetra pack": "Rinse and dry before throwing in the bin.",
  "takeaway container": "Rinse and dry before throwing in the bin.",
  "swiggy plastic container": "Rinse and dry before throwing in the bin.",

  // Tip: Store separately
  "old phone": "Store separately and send to an e-waste recycler.",
  "mobile phone": "Store separately and send to an e-waste recycler.",
  "bulb": "Store separately and send to an e-waste recycler.",
  "tube light": "Store separately and send to an e-waste recycler.",
  "cfl bulb": "Store separately and send to an e-waste recycler.",
  "led bulb": "Store separately and send to an e-waste recycler.",
  "aa battery": "Store separately and send to an e-waste recycler.",
  "aaa battery": "Store separately and send to an e-waste recycler.",
  "cell battery": "Store separately and send to an e-waste recycler.",
  "laptop battery": "Store separately and send to an e-waste recycler.",

  // Tip: Wrap hazardous
  "used blade": "Wrap in old newspaper or cloth before disposing.",
  "broken glass": "Wrap in old newspaper or cloth before disposing.",
  "glass pieces": "Wrap in old newspaper or cloth before disposing.",
  "syringe": "Wrap in old newspaper or cloth before disposing.",
  "injection needle": "Wrap in old newspaper or cloth before disposing.",
  "shaving razor": "Wrap in old newspaper or cloth before disposing.",
  "gillette razor": "Wrap in old newspaper or cloth before disposing."
};



    const input = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');
const results = document.getElementById('results');
const tipArea = document.getElementById('tipArea');

function showResult(text, colorClass) {
  const el = document.createElement('div');
  el.className = `result ${colorClass}`;
  el.innerHTML = `<span>${text}</span>`;
  results.appendChild(el);
}

function clearResults() {
  results.innerHTML = '';
  tipArea.innerHTML = '';
  tipArea.style.display = 'none'; // hide tip when results are cleared
}

function checkBin() {
  clearResults();
  const q = input.value.trim().toLowerCase();

  if (!q) {
    showResult('Please enter an item to search.', 'orange');
    return;
  }

 const matches = Object.keys(wasteDatabase).filter(k => {
  const pattern = new RegExp(`\\b${q}\\b`, 'i');  // word boundary match
  return pattern.test(k);
});


  if (matches.length === 0) {
    showResult('<span style="color: black;">‚ö†Ô∏è Item not found in database. Please dispose responsibly!</span>', 'orange');
    return;
  }

  let tipShown = false;

  matches.forEach(k => {
    const bin = wasteDatabase[k];
    let colorClass = '';

    if (bin.includes('Wet')) colorClass = 'green';
    else if (bin.includes('Dry')) colorClass = 'blue';
    else if (bin.includes('E-Waste')) colorClass = 'black';
    else colorClass = 'red';

    showResult(`${k} ‚Üí ${bin}`, colorClass);

    // ‚úÖ ONLY show tip if this item exactly matches AND matches correct bin type
    if (!tipShown && itemTips[k]) {
      const tip = itemTips[k];

      // Determine what kind of tip it is
      const isDryTip = tip.includes('Rinse and dry');
      const isEwasteTip = tip.includes('Store separately');
      const isHazardTip = tip.includes('Wrap in old newspaper');

      // Match tip only to correct bin type
      if (
        (isDryTip && bin === 'Dry Waste') ||
        (isEwasteTip && bin === 'E-Waste') ||
        (isHazardTip && bin === 'Reject Waste')
      ) {
        tipArea.innerHTML = `<span>üí° ${itemTips[k]} </span>`;
        tipArea.style.display = 'block';
        tipShown = true;
      }
    }
  });
}




searchBtn.addEventListener('click', checkBin);

input.addEventListener('keydown', e => { if (e.key === 'Enter') checkBin(); });


